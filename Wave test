-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create a Frame (container for other elements)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 500)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -250)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainFrame.Active = true
mainFrame.Draggable = true -- Makes the GUI draggable
mainFrame.Parent = screenGui

-- Add a title label
local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "Test Gui"
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.SourceSans
titleLabel.TextSize = 20
titleLabel.Parent = mainFrame

-- Add a Toggle (Checkbox)
local toggleButton = Instance.new("TextButton")
toggleButton.Text = "Aimbot (Beta) [OFF]"
toggleButton.Size = UDim2.new(0, 195, 0, 40)
toggleButton.Position = UDim2.new(0, 10, 0, 50)
toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Parent = mainFrame

local toggleState = false

toggleButton.MouseButton1Click:Connect(function()
    toggleState = not toggleState
    toggleButton.Text = toggleState and "Aimbot (Beta) [ON]" or "Aimbot (Beta) [OFF]"
end)

-- Add a Slider (using a Frame as a handle)
local sliderLabel = Instance.new("TextLabel")
sliderLabel.Text = "Slider: 0"
sliderLabel.Size = UDim2.new(0, 120, 0, 30)
sliderLabel.Position = UDim2.new(0, 10, 0, 100)
sliderLabel.BackgroundTransparency = 1
sliderLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
sliderLabel.Font = Enum.Font.SourceSans
sliderLabel.TextSize = 16
sliderLabel.Parent = mainFrame

local sliderFrame = Instance.new("Frame")
sliderFrame.Size = UDim2.new(0, 120, 0, 10)
sliderFrame.Position = UDim2.new(0, 140, 0, 115)
sliderFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
sliderFrame.Parent = mainFrame

local sliderHandle = Instance.new("Frame")
sliderHandle.Size = UDim2.new(0, 10, 1, 0)
sliderHandle.Position = UDim2.new(0, 0, 0, 0)
sliderHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
sliderHandle.Parent = sliderFrame

local sliderValue = 0
local dragging = false

-- Function to update slider
local function updateSlider(input)
    local xScale = math.clamp((input.Position.X - sliderFrame.AbsolutePosition.X) / sliderFrame.AbsoluteSize.X, 0, 1)
    sliderHandle.Position = UDim2.new(xScale, 0, 0, 0)
    sliderValue = math.floor(xScale * 100)
    sliderLabel.Text = "Slider: " .. tostring(sliderValue)
end

sliderHandle.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
    end
end)

sliderHandle.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

sliderFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        updateSlider(input)
        dragging = true
    end
end)

sliderFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        updateSlider(input)
    end
end)

-- Add a Button (runs script from external URL)
local button = Instance.new("TextButton")
button.Text = "Button1"
button.Size = UDim2.new(0, 120, 0, 40)
button.Position = UDim2.new(0, 10, 0, 150)
button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Parent = mainFrame

local scriptUrl = "https://pastefy.app/Oj7bfe2F/raw"

button.MouseButton1Click:Connect(function()
    local scriptContent = game:HttpGet(scriptUrl)
    local success, err = pcall(function()
        loadstring(scriptContent)()
    end)

end)

-- Add a Color Picker (changes entire mainFrame's color)
local colorButton = Instance.new("TextButton")
colorButton.Text = "Change Color"
colorButton.Size = UDim2.new(0, 120, 0, 40)
colorButton.Position = UDim2.new(0, 10, 0, 200) -- Moved below Button1
colorButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
colorButton.TextColor3 = Color3.fromRGB(0, 0, 0)
colorButton.Parent = mainFrame

colorButton.MouseButton1Click:Connect(function()
    local randomColor = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))
    mainFrame.BackgroundColor3 = randomColor
end)

-- Toggle visibility with 'P' key
local userInputService = game:GetService("UserInputService")
userInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.P then
        mainFrame.Visible = not mainFrame.Visible
    end
end)
